---
title: "Modern Portfolio Theory"
author: "Derek Peterson"
date: "2025-04-25"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r libraries, echo=FALSE}
library(tidyverse)
library(tidyfinance)
library(scales)
library(ggrepel)
```

## The Asset Universe

Download the daily prices of the constituents of the Dow Jones Industrial Average as an example portfolio


```{r dow, echo=FALSE}
symbols <- download_data(
  type = 'constituents',
  index = 'Dow Jones Industrial Average'
)

prices_daily <- download_data(
  type = 'stock_prices',
  symbol = symbols$symbol,
  start_date = '2000-01-01',
  end_date = '2025-03-31'
)
```

Ensure all stocks were traded over the same period

```{r period_check}
prices_daily <- prices_daily %>%
  group_by(symbol) %>%
  mutate(n = n()) %>%
  ungroup() %>%
  filter(n == max(n)) %>%
  select(-n)

```
